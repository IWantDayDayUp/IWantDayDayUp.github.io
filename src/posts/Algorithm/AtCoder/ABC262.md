---
# Author
author:
name: TayLock
url: https://iwantdaydayup.github.io

# Date
date: 2022-07-31

# Original
# isOriginal: true

# Category
category:
  - Algorithm
  - AtCoder Beginner Contest

# Tag
tag:
  - DP
---

# ğŸ§© AtCoder Beginner Contest 262

## # Info & Summary

- **Date:** `2022-07-31`
- **Completion Status:** A âœ… / B âœ… / C âœ… / D âœ… / E âŒ / F âŒ / G âŒ
- **Problem Type**:
  - D: `DP`

---

## 1. D - I Hate Non-integer Number (DP)

<https://atcoder.jp/contests/abc262/tasks/abc262_d>

### 1.1 Problem Statement

ç»™å®šé•¿åº¦ä¸º $n$ çš„ `æ­£æ•´æ•°` åºåˆ— $a_1, a_2, ..., a_n$

å¯¹äºæ¯ä¸ªæ•°å­— $a_i$, å¯ä»¥é€‰æ‹©, ä¹Ÿå¯ä»¥ä¸é€‰æ‹©

ä¸€å…±æœ‰ $2^n - 1$ ç§é€‰æ‹©æ–¹æ¡ˆ(ä¸åŒ…æ‹¬å…¨éƒ¨ä¸é€‰æ‹©)

é—®: æ‰€æœ‰çš„é€‰æ‹©æ–¹æ¡ˆä¸­, æœ‰å¤šå°‘ç§æ–¹æ¡ˆå¯ä»¥ä½¿å¾—è¢«é€‰æ‹©çš„æ•°å­—çš„ `ç®—æœ¯å¹³æ–¹æ ¹` ä¸º `æ•´æ•°` ???

### 1.2 åˆ†æ

æ˜¾è€Œæ˜“è§, `è®¡æ•°dp`

1. æœ€ç›´è§‚çš„ dp

   å®šä¹‰ $dp[i][j][k]$: è¡¨ç¤ºä»åºåˆ—å‰ $i$ ä¸ªæ•°ä¸­é€‰æ‹© $j$ ä¸ª, ä¸”å’Œä¸º $k$ çš„æ–¹æ¡ˆæ•°

   ä½†, æ•°æ®èŒƒå›´å¤ªå¤§, è¡Œä¸é€š

2. æ”¹è¿›

   ä¿®æ”¹ä¸Šè¿°å®šä¹‰ä¸º $dp[i][j][k]$: è¡¨ç¤ºä»åºåˆ—å‰ $i$ ä¸ªæ•°ä¸­é€‰æ‹© $j$ ä¸ª, ä¸” $sum \pmod j = k$ çš„æ–¹æ¡ˆæ•°

   ä½†, æ— æ³•ä» $dp[i][j][k]$ è½¬ç§»åˆ° $dp[i][j+1][k']$, è½¬ç§»æ–¹ç¨‹ä¸å¥½ç¡®å®š, è¡Œä¸é€š

3. æœ€ç»ˆçš„ dp å®šä¹‰

   ç»§ç»­ä¿®æ”¹ `dp` çš„å®šä¹‰ $dp[j][k][l]$: è¡¨ç¤ºä»åºåˆ—å‰ $j$ ä¸ªæ•°ä¸­é€‰æ‹© $k$ ä¸ª, ä¸” $sum \pmod i = l$ çš„æ–¹æ¡ˆæ•°

   è½¬ç§»æ–¹ç¨‹, å¯¹äº å½“å‰æ•°å­— $a_i$:

   - ä¸é€‰æ‹©: $dp[j + 1][k][l] += dp[j][k][l]$
   - é€‰æ‹©: $dp[j + 1][k + 1][(l + a_j) \pmod i] += dp[j][k][l]$

### 1.3 code

```cpp
#include <bits/stdc++.h>

using namespace std;

int main() {
    ios::sync_with_stdio(false);
    cin.tie(0);

    int n;
    cin >> n;

    vector<long long> a(n);
    for (int i = 0; i < n; i++)
    {
        cin >> a[i];
    }

    long long mod = 998244353;
    long long ans = 0;

    // æšä¸¾æ¯æ¬¡é€‰æ‹©çš„æ•°é‡ [1, n]
    for (int i = 1; i <= n; i++)
    {
        // dp[j][k][l]: ä»å‰jä¸ªæ•°ä¸­é€‰æ‹©kä¸ª, mod içš„ä½™æ•°ç­‰äº l, çš„æ–¹æ¡ˆ
        vector<vector<vector<long long>>> dp(n + 1, vector<vector<long long>>(i + 1, vector<long long>(i, 0)));
        dp[0][0][0] = 1;

        for (int j = 0; j < n; j++)
        {
            for (int k = 0; k <= i; k++)
            {
                for (int l = 0; l < i; l++)
                {
                    dp[j + 1][k][l] += dp[j][k][l];
                    dp[j + 1][k][l] %= mod;

                    if (k != i)
                    {
                        dp[j + 1][k + 1][(l + a[j]) % i] += dp[j][k][l];
                        dp[j + 1][k + 1][(l + a[j]) % i] %= mod;
                    }
                }
            }
        }
        // cout << dp[n][i][0] << endl;
        ans = (ans + dp[n][i][0] % mod) % mod;
    }

    cout << ans << endl;

    return 0;
}
```
